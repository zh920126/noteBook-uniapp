(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/blueprint/blueprint"],{"0e77":function(e,t,n){"use strict";(function(e){n("d5ac");a(n("66fd"));var t=a(n("fea7"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"17f3":function(e,t,n){"use strict";var a,r=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},"3c22":function(e,t,n){},"43ee":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("4795")),r=n("63d6");function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a,r,o,u){try{var s=e[o](u),c=s.value}catch(i){return void n(i)}s.done?t(c):Promise.resolve(c).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){u(o,a,r,s,c,"next",e)}function c(e){u(o,a,r,s,c,"throw",e)}s(void 0)}))}}var c={data:function(){return{tabs:[{name:"人生蓝图一"},{name:"人生蓝图2"},{name:"人生蓝图3"}],arr:[{type:"事业"},{type:"财富"},{type:"家庭生活"},{type:"学习成长"},{type:"人际关系"},{type:"健康计划"}],array:[{type:"事业"},{type:"财富"},{type:"家庭生活"},{type:"学习成长"},{type:"人际关系"},{type:"健康计划"}],cate:[{name:""},{name:"类别"},{name:"序号"},{name:"目标内容"},{name:"方法和措施"},{name:"起止时间"},{name:"完成打勾"}],cateList:[{name:"事业(工作)目标",children:[{parentType:"事业(工作)目标",count:1,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:2,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:3,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:4,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:5,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:6,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:7,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"事业(工作)目标",count:8,type:"",content:"",measures:"",startTime:"",complete:!1}]},{name:"财富目标",children:[{parentType:"财富目标",count:1,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"财富目标",count:2,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"财富目标",count:3,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"财富目标",count:4,type:"",content:"",measures:"",startTime:"",complete:!1}]},{name:"家庭生活",children:[{parentType:"家庭生活",count:1,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"家庭生活",count:2,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"家庭生活",count:3,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"家庭生活",count:4,type:"",content:"",measures:"",startTime:"",complete:!1}]},{name:"学习成长",children:[{parentType:"学习成长",count:1,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"学习成长",count:2,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"学习成长",count:3,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"学习成长",count:4,type:"",content:"",measures:"",startTime:"",complete:!1}]},{name:"人际关系",children:[{parentType:"人际关系",count:1,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"人际关系",count:2,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"人际关系",count:3,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"人际关系",count:4,type:"",content:"",measures:"",startTime:"",complete:!1}]},{name:"健康计划",children:[{parentType:"健康计划",count:1,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"健康计划",count:2,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"健康计划",count:3,type:"",content:"",measures:"",startTime:"",complete:!1},{parentType:"健康计划",count:4,type:"",content:"",measures:"",startTime:"",complete:!1}]}],changeIndex:0,update:!0,completionTime:3}},methods:{handleClick:function(e){var t=this;return s(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.currentTarget.dataset.index,0==r?t.getUserBlPrint():1==r?t.getUserBlPrint2():t.viewBlPrint3(),t.changeIndex=r;case 3:case"end":return n.stop()}}),n)})))()},handleComplete:function(t){var n=this;return s(a.default.mark((function o(){var u,s;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(u=t,u.userid=e.getStorageSync("userID"),console.log(Boolean(u.id)),!u.id){a.next=9;break}return u.complete=!u.complete,a.next=7,(0,r.myAxios)({url:"/anonymous/updateBlueprintDetailed",method:"post",data:u});case 7:s=a.sent,200==s.data.statusCode?n.viewBlPrint3():e.showToast({title:"更新数据失败,请重试",icon:"none",duration:500});case 9:case"end":return a.stop()}}),o)})))()},bindDateChange:function(t,n){var o=this;return s(a.default.mark((function u(){var s,c,i;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.detail.value,c=n,c.startTime=s,c.userid=e.getStorageSync("userID"),a.next=6,(0,r.myAxios)({url:"/anonymous/updateBlueprintDetailed",method:"post",data:c});case 6:i=a.sent,200==i.data.statusCode?o.viewBlPrint3():e.showToast({title:"更新数据失败,请重试",icon:"none",duration:500});case 8:case"end":return a.stop()}}),u)})))()},handleMeasures:function(t,n){var o=this;return s(a.default.mark((function u(){var s,c,i;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.detail.value,c=n,c.measures=s,c.userid=e.getStorageSync("userID"),a.next=6,(0,r.myAxios)({url:"/anonymous/updateBlueprintDetailed",method:"post",data:c});case 6:i=a.sent,200==i.data.statusCode?o.viewBlPrint3():e.showToast({title:"更新数据失败,请重试",icon:"none",duration:500});case 8:case"end":return a.stop()}}),u)})))()},handleContent:function(t,n){var o=this;return s(a.default.mark((function u(){var s,c,i;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.detail.value,c=n,c.content=s,c.userid=e.getStorageSync("userID"),a.next=6,(0,r.myAxios)({url:"/anonymous/updateBlueprintDetailed",method:"post",data:c});case 6:i=a.sent,200==i.data.statusCode?o.viewBlPrint3():e.showToast({title:"更新数据失败,请重试",icon:"none",duration:500});case 8:case"end":return a.stop()}}),u)})))()},handleCate:function(t,n){var o=this;return s(a.default.mark((function u(){var s,c,i;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.detail.value,c=n,c.type=s,c.userid=e.getStorageSync("userID"),a.next=6,(0,r.myAxios)({url:"/anonymous/updateBlueprintDetailed",method:"post",data:c});case 6:i=a.sent,200==i.data.statusCode?o.viewBlPrint3():e.showToast({title:"更新数据失败,请重试",icon:"none",duration:500});case 8:case"end":return a.stop()}}),u)})))()},handleUpdate5:function(t){var n=this;return s(a.default.mark((function o(){var u,s,c,i;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return u=t.currentTarget.dataset.index,s=t.detail.value,c={completionTime:5,type:n.array[u].type,content:s,userid:e.getStorageSync("userID")},n.array[u].id&&(c.id=n.array[u].id),console.log(c),a.next=7,(0,r.myAxios)({method:"post",url:"/anonymous/updateBlueprint",data:c});case 7:i=a.sent,200==i.data.statusCode?n.getUserBlPrint2():e.showToast({title:"更新失败,请重试",duration:500,icon:"none"});case 9:case"end":return a.stop()}}),o)})))()},handleUpdate3:function(t){var n=this;return s(a.default.mark((function o(){var u,s,c,i;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return u=t.currentTarget.dataset.index,s=t.detail.value,c={completionTime:3,type:n.arr[u].type,content:s,userid:e.getStorageSync("userID")},n.arr[u].id&&(c.id=n.arr[u].id),console.log(c),a.next=7,(0,r.myAxios)({method:"post",url:"/anonymous/updateBlueprint",data:c});case 7:i=a.sent,200==i.data.statusCode?n.getUserBlPrint():e.showToast({title:"更新失败,请重试",duration:500,icon:"none"});case 9:case"end":return a.stop()}}),o)})))()},viewBlPrint3:function(){var t=this;return s(a.default.mark((function n(){var o,u,s,c;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.update=!1,n.next=3,(0,r.myAxios)({method:"post",url:"/anonymous/queryBlueprintDetailed",data:{userid:wx.getStorageSync("userID")}});case 3:if(o=n.sent,200===o.statusCode&&o.data.result.content)for(u=o.data.result.content,s=function(e){u.forEach((function(n){t.cateList[e].name===n.parentType&&(t.cateList[e]["children"][n.count-1]=n)}))},c=0;c<t.cateList.length;c++)s(c);else e.showToast({title:"获取蓝图3数据失败,请重试",icon:"none",duration:500});t.update=!0;case 6:case"end":return n.stop()}}),n)})))()},getUserBlPrint2:function(){var t=this;return s(a.default.mark((function n(){var o,u,s;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.update=!1,o={completionTime:5,userid:e.getStorageSync("userID")},n.next=4,(0,r.myAxios)({method:"post",url:"/anonymous/queryBlueprint",data:o});case 4:u=n.sent,"查询成功"==u.data.message&&u.data.result.content?(s=u.data.result.content,s.forEach((function(e){"事业"==e.type&&(t.array[0]=e),"财富"==e.type&&(t.array[1]=e),"家庭生活"==e.type&&(t.array[2]=e),"学习成长"==e.type&&(t.array[3]=e),"人际关系"==e.type&&(t.array[4]=e),"健康计划"==e.type&&(t.array[5]=e)}))):e.showToast({title:"获取人生蓝图2数据失败,请重试",duration:500,icon:"none"}),t.update=!0;case 7:case"end":return n.stop()}}),n)})))()},getUserBlPrint:function(){var t=this;return s(a.default.mark((function n(){var o,u,s;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.update=!1,o={completionTime:3,userid:e.getStorageSync("userID")},n.next=4,(0,r.myAxios)({method:"post",url:"/anonymous/queryBlueprint",data:o});case 4:u=n.sent,"查询成功"==u.data.message&&u.data.result.content?(s=u.data.result.content,s.forEach((function(e){"事业"==e.type&&(t.arr[0]=e),"财富"==e.type&&(t.arr[1]=e),"家庭生活"==e.type&&(t.arr[2]=e),"学习成长"==e.type&&(t.arr[3]=e),"人际关系"==e.type&&(t.arr[4]=e),"健康计划"==e.type&&(t.arr[5]=e)}))):e.showToast({title:"获取人生蓝图1数据失败,请重试",duration:500,icon:"none"}),t.update=!0;case 7:case"end":return n.stop()}}),n)})))()}},onLoad:function(){this.getUserBlPrint()}};t.default=c}).call(this,n("543d")["default"])},"6ba6":function(e,t,n){"use strict";n.r(t);var a=n("43ee"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},a46c:function(e,t,n){"use strict";var a=n("3c22"),r=n.n(a);r.a},fea7:function(e,t,n){"use strict";n.r(t);var a=n("17f3"),r=n("6ba6");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("a46c");var u,s=n("f0c5"),c=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);t["default"]=c.exports}},[["0e77","common/runtime","common/vendor"]]]);